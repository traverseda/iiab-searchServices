{% extends 'base.html' %}

{% block content %}

<div class='searchInfo'>
    <span>Query: <code>{{searchResult.query_parsed}}</code></span>
    <span>Results: {{searchResult.result_count}}</span>
</div>
{% if searchResult.corrected != searchResult.query_text %}
<p>Did you mean: <a href="/search/?q={{searchResult.corrected}}">{{searchResult.corrected}}</a></p>
{% endif %}
{% for match in  searchResult.results %}
<article class="searchResult">
    <a href={{match.url}}><h3>{{match.title}}</h3></a>
    <h4>{{match.url}}</h4>
    {{match.highlights|safe}}
    <hr>
</article>
{% else %}
<h2>No results found</h2>
{% endfor %}
<form action="/search/" method="get" class="searchPagination">
    <input type="hidden" name="q" value="{{request.args.get('q',"1")}}">
    {% for i in range(1,searchResult.result_count//searchResult.limit+2) %}
    {% if i|string == request.args.get('page','1') %}
    <button type="submit" name="page" value="{{i}}">{{i}}</button> 
    {% else %}
    <input type="submit" name="page" value="{{i}}"></input> 
    {% endif %}
    {% endfor %}
</form>
{% endblock content %}
